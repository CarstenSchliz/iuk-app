<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Benutzerverwaltung</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    :root{
      --softrot: rgb(228,100,80);
      --dunkelblau: rgb(0,45,85);
      --hellgrau: rgb(239,238,234);
      --blassblau: rgb(230,240,250);
      --text:#1f2937;

      --hellblau: rgb(100,160,220);

      /* Rollenfarben */
      --role-admin-bg:#ffe8e6; --role-admin-bd:#ffcdc6; --role-admin-fg:#9e1b1b;
      --role-gl-bg:#fff6db;   --role-gl-bd:#fde8a6;   --role-gl-fg:#8a6b00;
      --role-hf-bg:#e8f6ec;   --role-hf-bd:#c7efd5;   --role-hf-fg:#0f6b2b;
      --role-an-bg:#e6f0ff;   --role-an-bd:#cfe1ff;   --role-an-fg:#0d3b8a;
    }
    *{box-sizing:border-box}
    .user-page .page-title{ color:var(--softrot); margin:0 0 1rem }

    .user-page .settings-grid{ display:grid; grid-template-columns:2fr 1fr; gap:1.5rem; align-items:start }
    @media (max-width:980px){ .user-page .settings-grid{ grid-template-columns:1fr } }

    .user-page .card{
      background:#fff; padding:1.25rem; border-radius:12px;
      box-shadow:0 2px 6px rgba(0,0,0,0.08); margin-bottom:1.5rem;
    }

    .user-page .card h3{
      color:var(--hellblau);
      margin:0 0 1rem;
      font-size:1.1rem;
      display:flex;
      align-items:center;
      gap:0.5rem;
    }

    .user-page .user-table{ width:100%; border-collapse:collapse; font-size:.95rem; table-layout:fixed }
    .user-page .user-table th, .user-page .user-table td{
      border-bottom:1px solid #e5e7eb; padding:.6rem .5rem; vertical-align:middle; text-align:left;
    }
    .user-page .user-table th{ background:var(--blassblau); }

    .user-page .nowrap{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
    .user-page .td-name b{ font-weight:700 }
    .user-page .td-roles{ white-space:normal }

    .user-page .role-badges{ display:flex; gap:.35rem; flex-wrap:wrap }
    .user-page .role-badge{ display:inline-block; padding:.18rem .55rem; border-radius:999px; font-size:.78rem; border:1px solid transparent; white-space:nowrap }
    .user-page .role-admin{ background:var(--role-admin-bg); border-color: var(--role-admin-bd); color: var(--role-admin-fg) }
    .user-page .role-gl{    background:var(--role-gl-bg);    border-color: var(--role-gl-bd);    color: var(--role-gl-fg) }
    .user-page .role-hf{    background:var(--role-hf-bg);    border-color: var(--role-hf-bd);    color: var(--role-hf-fg) }
    .user-page .role-an{    background:var(--role-an-bg);    border-color: var(--role-an-bd);    color: var(--role-an-fg) }

    .user-page .actions-cell{ position:relative; width:44px; text-align:right }
    .user-page .kebab-btn{
      background:transparent; border:none; cursor:pointer; padding:.3rem .4rem;
      font-size:1.2rem; color:#374151; border-radius:8px; display:inline-flex; line-height:1; vertical-align:middle;
    }
    .user-page .kebab-menu{
      position:absolute; right:0; top:calc(100% + 6px); min-width:200px; z-index:999;
      background:#fff; border:1px solid #e5e7eb; border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,.12);
      display:none; overflow:hidden;
    }
    .user-page .kebab-menu button{
      width:100%; background:transparent; border:none; text-align:left; cursor:pointer;
      padding:.7rem .9rem; font-size:.92rem; display:flex; gap:.5rem; align-items:center
    }
    .user-page .kebab-menu button:hover{ background:#f8fafc }

    .user-page .form-msg{ margin-top:.5rem; font-weight:600 }

    .user-page .form-group.floating{ position:relative; margin-bottom:1.25rem }
    .user-page .form-group.floating input{
      width:100%; padding:1rem .75rem .3rem .75rem; border:1px solid #d1d5db; border-radius:10px; background:#fff; font-size:1rem; transition:border-color .15s ease; min-height:44px;
    }
    .user-page .form-group.floating input:focus{ outline:none; border-color:var(--dunkelblau) }
    .user-page .form-group.floating label{
      position:absolute; top:50%; left:.75rem; transform:translateY(-50%); color:#6b7280; font-size:.95rem; transition:all .15s; pointer-events:none; background:#fff; padding:0 .25rem;
    }
    .user-page .form-group.floating input:focus + label,
    .user-page .form-group.floating input:not(:placeholder-shown) + label{
      top:0; left:.6rem; font-size:.78rem; color:var(--dunkelblau);
    }
    .user-page .form-group.floating input[readonly]{ background:#f9fafb; color:#6b7280 }

    .user-page .btn{ padding:.6rem .9rem; border:none; border-radius:10px; cursor:pointer; font-size:.95rem; min-height:44px }
    .user-page .btn-primary{ background:var(--dunkelblau); color:#fff }
    .user-page .btn-secondary{ background:#eef2f7 }
    .user-page .btn-danger{ background:#c62828; color:#fff }

    .user-page #editPanelOuter{ display:none }
    .user-page #editPanel .editor-row{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:1.25rem; align-items:start; margin-bottom:.25rem }

    .user-page #rolesSection{ margin-top:1rem }
    .user-page #rolesSection h4{ margin:.2rem 0 .8rem; font-size:1.05rem; color:var(--dunkelblau); font-weight:700 }
    .user-page .roles-grid{ display:flex; gap:1rem 1.25rem; flex-wrap:wrap }
    .user-page .role-check{ display:flex; align-items:center; gap:.6rem; padding:.45rem .6rem; border-radius:12px; border:1px solid #e5e7eb; background:#fff }
    .user-page .role-check input[type="checkbox"]{ width:24px; height:24px; accent-color: var(--dunkelblau) }
    .user-page .role-check .role-badge{ font-size:.82rem }

    .user-page .editor-actions{ display:flex; gap:.8rem; margin-top:1.1rem }
    .user-page .editor-actions .btn{ width:auto }

    @media (max-width:720px){
      .user-page .user-table thead{ display:none }
      .user-page .user-table, .user-page .user-table tbody, .user-page .user-table tr, .user-page .user-table td{ display:block; width:100% }
      .user-page .user-table tr{
        background:#fff; border:1px solid #e5e7eb; border-radius:12px;
        padding:.6rem .6rem .2rem; margin-bottom:.8rem; box-shadow:0 1px 4px rgba(0,0,0,.06);
      }
      .user-page .user-table td{ border:none; padding:.35rem .25rem }
      .user-page .user-table td[data-label]:not([data-label=""])::before{
        content:attr(data-label) ": "; font-weight:600; color:#6b7280; display:inline-block; min-width:120px;
      }
      .user-page .user-table td[data-label="E-Mail-Adresse"]::before{ display:block; margin-bottom:.15rem }
      .user-page .user-table td[data-label="E-Mail-Adresse"] .email-val{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; display:block }
      .user-page .nowrap{ white-space:normal; overflow:visible; text-overflow:clip }
      .user-page .actions-cell{ position:relative; text-align:right; padding-top:.4rem }
    }

    .user-page #toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:#111827; color:#e5e7eb; border:1px solid #243244; padding:.8rem 1rem; border-radius:12px;
      box-shadow:0 12px 30px rgba(0,0,0,.25); display:none; z-index:1000;
    }

    .user-page .modal-backdrop{
      position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; z-index:999;
    }
    .user-page .modal{
      position:fixed; inset:0; display:none; z-index:1000; align-items:center; justify-content:center; padding:1rem;
    }
    .user-page .modal .modal-card{
      background:#fff; color:#111; border-radius:14px; width:min(520px, 96vw);
      box-shadow:0 20px 60px rgba(0,0,0,.25); padding:1rem 1rem 1rem;
      border:1px solid #e5e7eb;
    }

    .user-page mark {
      background: #fff3b0;
      color: inherit;
      padding: 0 2px;
      border-radius: 3px;
    }

    body.dark .user-page .card, body.dark .user-page .user-table tr{ background:#1e1e1e; color:#f5f5f5; border-color:#374151 }
    body.dark .user-page .user-table th{ background:#0f172a; color:#e5e7eb }
    body.dark .user-page .user-table td{ border-color:#374151 }
    body.dark .user-page .kebab-menu{ background:#2a2a2a; border-color:#444 }
    body.dark .user-page .kebab-menu button:hover{ background:#353535 }
    body.dark .user-page .form-group.floating label{ background:#1e1e1e }
    body.dark .user-page .role-check{ border-color:#374151; background:#1e1e1e }
    body.dark .user-page .modal .modal-card{ background:#1e1e1e; color:#f5f5f5; border-color:#374151 }
    body.dark .user-page .modal h4{ color:#f3f4f6 }
    body.dark .user-page .modal p{ color:#d1d5db }
  </style>
</head>
<body>
  <div class="user-page">
    <h2 class="page-title">Benutzerverwaltung</h2>

    <div class="settings-grid">
      <!-- Nutzerliste -->
      <div class="card">
        <h3><i class="bi bi-people"></i> Benutzer√ºbersicht</h3>
        <div style="position:relative; margin:12px 0 14px;">
          <i class="bi bi-search" 
             style="position:absolute; left:10px; top:50%; transform:translateY(-50%);
                    color:#6b7280; font-size:1rem;"></i>
          <input type="text" id="searchInput" placeholder="Suchen..."
            style="padding:8px 32px 8px 32px; width:100%; border-radius:8px; border:1px solid #ccc;">
          <button id="clearSearch" type="button"
            style="position:absolute; right:8px; top:50%; transform:translateY(-50%);
                   background:none; border:none; font-size:1.2rem; color:#6b7280; cursor:pointer; display:none;">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <table class="user-table" aria-label="Liste der Benutzer">
          <thead>
            <tr>
              <th>Anzeigename</th>
              <th>E-Mail-Adresse</th>
              <th>Rollen</th>
              <th style="width:44px;"></th>
            </tr>
          </thead>
          <tbody id="userList"></tbody>
        </table>
        <div id="userMsg" class="form-msg"></div>
      </div>

      <!-- Neuer Nutzer -->
      <div>
        <div class="card">
          <h3><i class="bi bi-person-plus"></i> Neuen Nutzer anlegen</h3>
          <form id="createUserForm" novalidate>
            <div class="form-group floating">
              <input type="email" id="newEmail" placeholder=" " required inputmode="email" autocomplete="email" />
              <label for="newEmail">E-Mail</label>
            </div>
            <div class="form-group floating">
              <input type="password" id="newPassword" placeholder=" " required autocomplete="new-password" minlength="6" />
              <label for="newPassword">Passwort</label>
            </div>
            <div class="form-group floating">
              <input type="text" id="newName" placeholder=" " autocomplete="name" />
              <label for="newName">Anzeigename (optional)</label>
            </div>
            <button type="submit" class="btn btn-primary" id="createBtn"><i class="bi bi-save"></i> Benutzer erstellen</button>
            <div id="createUserMsg" class="form-msg"></div>
          </form>
        </div>
      </div>
    </div>

    <!-- Editor -->
    <div id="editPanelOuter" class="card" style="display:none;">
      <div id="editPanel"></div>
    </div>

    <!-- Toast -->
    <div id="toast" role="status" aria-live="polite"></div>

    <!-- Modal -->
    <div id="modalBackdrop" class="modal-backdrop"></div>
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-card">
        <h4 id="modalTitle">Best√§tigen</h4>
        <p id="modalMessage">Bist du sicher?</p>
        <div class="modal-actions">
          <button id="modalCancel" class="btn btn-secondary"><i class="bi bi-x-lg"></i> Abbrechen</button>
          <button id="modalOk" class="btn btn-danger"><i class="bi bi-trash"></i> L√∂schen</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    const API_BASE = "https://us-central1-iuk-app.cloudfunctions.net";
    let allUsers = [];
    let editorDirty = false;

    // DOM
    const userList = document.getElementById("userList");
    const userMsg  = document.getElementById("userMsg");
    const editPanelOuter = document.getElementById("editPanelOuter");
    const editPanel = document.getElementById("editPanel");
    const toastEl = document.getElementById("toast");
    const searchInput = document.getElementById("searchInput");
    const clearSearch = document.getElementById("clearSearch");

    // Modal
    const modal      = document.getElementById("modal");
    const backdrop   = document.getElementById("modalBackdrop");
    const modalTitle = document.getElementById("modalTitle");
    const modalMsg   = document.getElementById("modalMessage");
    const modalOk    = document.getElementById("modalOk");
    const modalCancel= document.getElementById("modalCancel");

    const ROLE_DEF = [
      { key:"admin",         label:"Admin",         cls:"role-admin" },
      { key:"gruppenleiter", label:"Gruppenleiter", cls:"role-gl" },
      { key:"helfer",        label:"Helfer",        cls:"role-hf" },
      { key:"anw√§rter",      label:"Anw√§rter",      cls:"role-an" },
    ];

    // Toast
    const showToast = (msg) => {
      toastEl.textContent = msg; toastEl.style.display = "block";
      clearTimeout(showToast._t); showToast._t = setTimeout(()=> toastEl.style.display = "none", 2600);
    };

    // Highlight
    function highlight(text, query) {
      if (!query) return text;
      const regex = new RegExp(`(${query})`, "gi");
      return text.replace(regex, '<mark>$1</mark>');
    }

    // Modal Confirm
    function confirmDialog({ title="Best√§tigen", message="Bist du sicher?", okText="OK", cancelText="Abbrechen" } = {}){
      modalTitle.textContent = title;
      modalMsg.textContent = message;
      modalOk.innerHTML = `<i class="bi bi-check2"></i> ${okText}`;
      modalCancel.innerHTML = `<i class="bi bi-x-lg"></i> ${cancelText}`;
      return new Promise(resolve => {
        const close = (val) => {
          modal.style.display = "none"; backdrop.style.display = "none";
          document.removeEventListener("keydown", onKey); resolve(val);
        };
        const onKey = (e) => { if (e.key === "Escape") close(false); };
        backdrop.style.display = "block"; modal.style.display = "flex";
        document.addEventListener("keydown", onKey);
        modalOk.onclick = () => close(true); modalCancel.onclick = () => close(false);
        backdrop.onclick = () => close(false);
      });
    }
        // Rollen extrahieren
    function extractRoles(u){
      return Array.isArray(u.roles) ? u.roles : [];
    }

    function rolesToBadges(roles){
      if (!roles?.length) return '<span style="color:#9ca3af">‚Äì</span>';
      return '<div class="role-badges">' + roles.map(r=>{
        const def = ROLE_DEF.find(d=>d.key===r);
        return `<span class="role-badge ${def?.cls||""}">${def?.label||r}</span>`;
      }).join("") + '</div>';
    }

    function buildKebab(cell, user){
      cell.classList.add("actions-cell");
      cell.innerHTML = `
        <button class="kebab-btn" aria-label="Aktionen"><i class="bi bi-three-dots-vertical"></i></button>
        <div class="kebab-menu">
          <button class="act-edit"><i class="bi bi-pencil"></i><span>Bearbeiten</span></button>
          <button class="act-del"  style="color:#b91c1c;"><i class="bi bi-trash"></i><span>Nutzer l√∂schen</span></button>
        </div>`;
      cell.querySelector(".act-edit").onclick = ()=>openEditor(user);
      cell.querySelector(".act-del").onclick = ()=>deleteUserFlow(user);
    }

    // Globaler Kebab Listener
    document.addEventListener("click",(e)=>{
      document.querySelectorAll(".kebab-menu").forEach(m=>m.style.display="none");
      if(e.target.closest(".kebab-btn")){
        const menu=e.target.closest(".actions-cell").querySelector(".kebab-menu");
        menu.style.display="block"; e.stopPropagation();
      }
    });

    // Editor
    function openEditor(user){
      if(editorDirty && !confirm("Ungespeicherte √Ñnderungen verwerfen?")) return;
      const initial = { name: user.displayName || "", roles: extractRoles(user) };

      editPanelOuter.style.display = "block";
      editPanel.innerHTML = `
        <h3 style="margin-top:0;">Nutzer bearbeiten</h3>
        <div class="editor-row">
          <div class="form-group floating">
            <input type="text" id="edName" placeholder=" " value="${initial.name}">
            <label for="edName">Anzeigename</label>
          </div>
          <div class="form-group floating">
            <input type="email" id="edEmail" placeholder=" " value="${user.email || ""}" readonly>
            <label for="edEmail">E-Mail-Adresse</label>
          </div>
          <div class="form-group floating">
            <input type="text" id="edUID" placeholder=" " value="${user.uid}" readonly>
            <label for="edUID">UID</label>
          </div>
        </div>
        <div id="rolesSection">
          <h4>Rollen</h4>
          <div class="roles-grid">
            ${ROLE_DEF.map(r => `
              <label class="role-check">
                <input type="checkbox" value="${r.key}" ${initial.roles.includes(r.key) ? "checked":""} />
                <span class="role-badge ${r.cls}">${r.label}</span>
              </label>
            `).join("")}
          </div>
        </div>
        <div class="editor-actions">
          <button class="btn btn-secondary" id="edCancel"><i class="bi bi-x-lg"></i> Abbrechen</button>
          <button class="btn btn-primary"  id="edSave"><i class="bi bi-save"></i> Speichern</button>
        </div>
      `;

      editorDirty=false;
      editPanel.querySelectorAll("input").forEach(inp=>{
        inp.addEventListener("input",()=>editorDirty=true);
      });

      document.getElementById("edCancel").onclick = () => {
        showToast("√Ñnderungen verworfen");
        editPanelOuter.style.display = "none";
        editPanel.innerHTML = "";
      };

      document.getElementById("edSave").onclick = async () => {
        const btn=document.getElementById("edSave");
        btn.disabled=true; btn.textContent="‚è≥ Speichern...";
        const newName = document.getElementById("edName").value.trim();
        const selected = Array.from(editPanel.querySelectorAll('input[type="checkbox"]:checked')).map(cb=>cb.value);

        try{
          const res = await fetch(API_BASE + "/updateUser", {
            method:"POST", headers:{ "Content-Type":"application/json" },
            body: JSON.stringify({ uid: user.uid, displayName: newName, roles: selected })
          });
          const data = await res.json();
          if (!res.ok) throw new Error(data.error || "Unbekannter Fehler");

          showToast("Gespeichert");
          await loadUsers();

          editPanelOuter.style.display = "none";
          editPanel.innerHTML = "";
          editorDirty=false;
        }catch(err){
          showToast("Fehler: " + err.message);
        }finally{
          btn.disabled=false; btn.innerHTML='<i class="bi bi-save"></i> Speichern';
        }
      };
    }

    // L√∂schen
    async function deleteUserFlow(user){
      const title = "Nutzer l√∂schen?";
      const who = user.displayName || user.email || user.uid;
      const message = `Soll der Nutzer wirklich gel√∂scht werden?\n\n${who}`;
      const ok = await confirmDialog({ title, message, okText:"L√∂schen", cancelText:"Abbrechen" });
      if (!ok) return;

      try{
        const res = await fetch(API_BASE + "/deleteUser", {
          method:"POST", headers:{ "Content-Type":"application/json" },
          body: JSON.stringify({ uid: user.uid })
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.error || "Unbekannter Fehler");
        showToast("Nutzer gel√∂scht");
        await loadUsers();
        editPanelOuter.style.display = "none"; editPanel.innerHTML = "";
      }catch(err){
        showToast("Fehler: " + err.message);
      }
    }
    // Nutzerliste rendern
  function renderUsers(users){
  const q = searchInput.value.toLowerCase();
  userList.innerHTML = "";

  const filtered = users.filter(u => {
    const roles = extractRoles(u);
    const roleLabels = roles.map(r => {
      const def = ROLE_DEF.find(d => d.key === r);
      return def ? def.label.toLowerCase() : r.toLowerCase();
    });
    return (
      u.displayName?.toLowerCase().includes(q) ||
      u.email?.toLowerCase().includes(q) ||
      roles.some(r => r.toLowerCase().includes(q)) ||
      roleLabels.some(lbl => lbl.includes(q))
    );
  });

  if (filtered.length === 0) {
    const tr = document.createElement("tr");
    tr.innerHTML = `<td colspan="4" style="text-align:center; padding:1rem; color:#6b7280;">
      Keine Treffer gefunden
    </td>`;
    userList.appendChild(tr);
    return;
  }

  filtered.forEach(u => {
    const tr = document.createElement("tr");
    const name = u.displayName || "Ohne Namen";
    const mail = u.email || "‚Äì";
    const roles = extractRoles(u);

    // Name
    const tdName = document.createElement("td");
    tdName.className = "nowrap td-name";
    tdName.setAttribute("data-label","Anzeigename");
    tdName.title = name;
    tdName.innerHTML = `<b>${highlight(name, q)}</b>`;
    tr.appendChild(tdName);

    // Mail
    const tdMail = document.createElement("td");
    tdMail.className = "nowrap";
    tdMail.setAttribute("data-label","E-Mail-Adresse");
    tdMail.title = mail;
    tdMail.innerHTML = `<span class="email-val">${highlight(mail, q)}</span>`;
    tr.appendChild(tdMail);

    // Rollen
    const tdRoles = document.createElement("td");
    tdRoles.className = "td-roles";
    tdRoles.setAttribute("data-label","Rollen");
    tdRoles.innerHTML = rolesToBadges(roles);
    if (q) {
      tdRoles.innerHTML = tdRoles.innerHTML.replace(
        new RegExp(q,"gi"),
        match => `<mark>${match}</mark>`
      );
    }
    tr.appendChild(tdRoles);

    // Aktionen
    const tdActions = document.createElement("td");
    tdActions.className = "actions-cell";
    tdActions.setAttribute("data-label","");
    buildKebab(tdActions, { uid: u.uid, displayName: name, email: mail, roles });
    tr.appendChild(tdActions);

    userList.appendChild(tr);
  });
}
    // Nutzer laden
    async function loadUsers(){
      userMsg.style.color = "orange"; userMsg.textContent = "‚è≥ Lade Nutzer...";
      try{
        const res = await fetch(API_BASE + "/listUsers", { method:"GET" });
        const data = await res.json();
        allUsers=(data.users||[]).sort((a,b)=>(a.displayName||a.email||"").localeCompare(b.displayName||b.email||"","de",{sensitivity:"base"}));
        renderUsers(allUsers);
        userMsg.textContent = "";
      }catch(err){
        userMsg.style.color = "red"; userMsg.textContent = "‚ùå Fehler beim Laden der Nutzer: " + err.message;
      }
    }
    loadUsers();

    // Neuer Nutzer
    const form = document.getElementById("createUserForm");
    const msg  = document.getElementById("createUserMsg");
    const createBtn = document.getElementById("createBtn");

    form.addEventListener("submit", async (e)=>{
      e.preventDefault();
      const email = document.getElementById("newEmail").value.trim();
      const pw    = document.getElementById("newPassword").value;
      const name  = document.getElementById("newName").value.trim();

      if (!email || !pw){
        msg.style.color = "red"; msg.textContent = "‚ùå E-Mail und Passwort sind erforderlich.";
        return;
      }
      msg.textContent = "";

      createBtn.disabled=true;
      createBtn.textContent="‚è≥ Erstelle...";

      try{
        const res = await fetch(API_BASE + "/createUser", {
          method:"POST", headers:{ "Content-Type":"application/json" },
          body: JSON.stringify({ email, password: pw, displayName: name })
        });
        const data = await res.json();
        if (!res.ok) throw new Error(data.error || "Unbekannter Fehler");

        showToast("Benutzer erstellt");
        form.reset();
        await loadUsers();
      }catch(err){
        msg.style.color = "red"; msg.textContent = "‚ùå Fehler: " + err.message;
      }finally{
        createBtn.disabled=false;
        createBtn.innerHTML='<i class="bi bi-save"></i> Benutzer erstellen';
      }
    });
  </script>
</body>
</html>
