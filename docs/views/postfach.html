<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Postfach</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  
  <style>
    /* ================================ THEME: zentrale Farb-Variablen ================================ */
    :root {
      --softrot: rgb(228,100,80);
      --dunkelblau: rgb(0,45,85);
      --hellblau: rgb(100,160,220);

      --bg: #f3f4f6;
      --text: #1f2937;
      --heading: #002d55;
      --link: #e06862;

      --card-bg: #ffffff;
      --card-border: #e5e7eb;
    }

    html, body {
      margin: 0; padding: 0; height: 100%;
      background: var(--bg) !important;
      overflow-x: hidden;
      font-family: "Helvetica Neue", "Open Sans", Arial, sans-serif;
      color: var(--text);
    }

    /* Zentrierter Seiten-Wrapper */
    .postfach-page {
      max-width: 900px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .page-title {
      color: var(--softrot);
      margin: 0 0 1rem;
      padding: 1rem 0;
      text-align: center;
    }

    .postfach-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 1.5rem;
      align-items: stretch;
    }

    @media (max-width: 768px) {
      .postfach-grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card-bg);
      color: var(--text);
      border: 1px solid var(--card-border);
      padding: 1.5rem;
      border-radius: 14px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.28);
      margin: 0;
      transition: background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
      box-sizing: border-box;
      width: 100%;
    }

    .card h3 {
      color: var(--hellblau);
      margin: 0 0 1rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    .message-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .message-item {
      padding: 1rem;
      border-bottom: 1px solid var(--card-border);
      display: flex;
      align-items: center;
      gap: 1rem;
      cursor: pointer;
    }

    .message-item:hover {
      background-color: var(--blassblau);
    }

    .message-item .sender {
      font-weight: bold;
    }

    .new-message {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    .new-message button {
      padding: 0.8rem 1.5rem;
      border-radius: 10px;
      background-color: var(--softrot);
      color: white;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      transition: background-color .2s ease;
    }

    .new-message button:hover {
      background-color: #d15b46;
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      opacity: 0;
      transition: opacity .3s ease;
    }

    .modal.show {
      display: flex;
      opacity: 1;
    }

    .modal-content {
      background: var(--card-bg);
      color: var(--text);
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
      width: 92%;
      max-width: 520px;
      box-sizing: border-box;
      transform: scale(.97);
      transition: transform .25s ease, opacity .25s ease;
      opacity: 1;
    }

    .modal.show .modal-content {
      transform: scale(1);
    }

    .modal-content h2 {
      color: var(--heading);
      font-size: 1.4rem;
      margin: 0 0 1.1rem;
      text-align: center;
    }

    .form-group.floating {
      position: relative;
      margin-bottom: 1.2rem;
    }

    .form-group.floating input {
      width: 100%;
      padding: 1rem 2.6rem .3rem .75rem;
      border: 1px solid var(--card-border);
      border-radius: 10px;
      background: var(--card-bg);
      color: var(--text);
      font-size: 1rem;
      box-sizing: border-box;
    }

    .form-group.floating label {
      position: absolute;
      top: 50%;
      left: .75rem;
      transform: translateY(-50%);
      color: #b0b6bf;
      font-size: .95rem;
      pointer-events: none;
      background: var(--card-bg);
      padding: 0 .25rem;
    }

    .form-group.floating input:focus + label {
      top: .1rem;
      left: .6rem;
      font-size: .78rem;
      color: var(--heading);
    }
  </style>
</head>

<script src="../js/firebase.js"></script>
<script src="../js/theme.js"></script>

<body>
  <div class="postfach-page">
    <h2 class="page-title">Postfach</h2>

    <div class="postfach-grid">
      <!-- Linke Spalte: Nachrichtenliste -->
      <div>
        <div class="card">
          <h3><i class="bi bi-envelope"></i> Nachrichten</h3>
          <ul class="message-list">
            <li class="message-item">
              <div class="sender">Max Mustermann</div>
              <div class="message-preview">Hallo, wie geht's dir?</div>
            </li>
            <li class="message-item">
              <div class="sender">Anna Meier</div>
              <div class="message-preview">Deine Bestellung ist unterwegs...</div>
            </li>
            <!-- Weitere Nachrichten könnten hier folgen -->
          </ul>
        </div>
      </div>

      <!-- Rechte Spalte: Neue Nachricht schreiben -->
      <div>
        <div class="card">
          <h3><i class="bi bi-pencil"></i> Neue Nachricht</h3>
          <form id="newMessageForm">
            <div class="form-group floating">
              <input type="text" id="recipient" placeholder=" " required>
              <label for="recipient">Empfänger</label>
            </div>
            <div class="form-group floating">
              <input type="text" id="messageSubject" placeholder=" " required>
              <label for="messageSubject">Betreff</label>
            </div>
            <div class="form-group floating">
              <input type="text" id="messageBody" placeholder=" " required>
              <label for="messageBody">Nachricht</label>
            </div>

            <div class="new-message">
              <button type="submit">Nachricht senden</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal für Nachrichtenerstellung -->
  <div id="newMessageModal" class="modal">
    <div class="modal-content">
      <h2>Neue Nachricht senden</h2>
      <form id="modalMessageForm">
        <div class="form-group floating">
          <input type="text" id="modalRecipient" placeholder=" " required>
          <label for="modalRecipient">Empfänger</label>
        </div>
        <div class="form-group floating">
          <input type="text" id="modalSubject" placeholder=" " required>
          <label for="modalSubject">Betreff</label>
        </div>
        <div class="form-group floating">
          <input type="text" id="modalMessage" placeholder=" " required>
          <label for="modalMessage">Nachricht</label>
        </div>
        <div class="new-message">
          <button type="submit">Nachricht senden</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Hier kannst du die Logik für das Hinzufügen, Abrufen und Speichern von Nachrichten einfügen
  </script>
</body>
</html>
