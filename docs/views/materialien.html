<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Materialien</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <style>
    :root{
      --softrot: rgb(228,100,80);
      --dunkelblau: rgb(0,45,85);
      --hellgrau: rgb(239,238,234);
      --blassblau: rgb(230,240,250);
      --text:#1f2937;
      --hellblau: rgb(100,160,220); /* Helles Blau für Überschriften */
      --material-bg: #fff; /* Weißer Hintergrund für beide Kacheln */
      --material-bd: #e5e7eb;
      --material-fg: #374151;
    }

    *{box-sizing:border-box}

    .material-page {
      color: var(--text);
      padding: 1rem;
    }

    .material-page .page-title{
      color: var(--softrot);
      margin: 0 0 1rem;
    }

    .material-page .material-grid{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 980px) {
      .material-page .material-grid{
        grid-template-columns: 1fr;
      }
    }

    .material-page .card {
      background: var(--material-bg);
      padding: 1.25rem;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      margin-bottom: 1.5rem;
      border: 1px solid var(--material-bd);
    }

    .material-page .card h3 {
      color: var(--hellblau); /* Helles Blau für Überschriften */
      margin: 0 0 1rem;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .material-page .material-list {
      list-style: none;
      padding-left: 0;
      display: none; /* Zuerst ist die Liste verborgen */
      margin-top: 1rem;
    }

    .material-page .material-list.open {
      display: block; /* Sichtbar machen, wenn aktiv */
    }

    .material-page .material-list li {
      padding: 0.8rem;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .material-page .material-list li:hover {
      background: var(--blassblau);
    }

    .material-page .btn {
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
      background: var(--dunkelblau);
      color: white;
      font-size: 1rem;
      cursor: pointer;
    }

    .material-page .btn-primary {
      background: var(--dunkelblau);
    }

    .material-page .search-box {
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      position: relative;
    }

    .material-page input[type="text"] {
      padding: 8px 30px 8px 10px; /* Platz für die Lupe */
      width: 100%;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .material-page .search-icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.1rem;
      color: #aaa;
    }

    .material-page .material-personal {
      background: var(--material-bg);
      border-color: var(--material-bd);
      color: var(--material-fg);
    }

    .material-page .material-global {
      background: var(--material-bg);
      border-color: var(--material-bd);
      color: var(--material-fg);
    }

  </style>
</head>
<body>
  <div class="material-page">
    <h2 class="page-title">Materialien</h2>
    
    <!-- Suchfeld mit Lupe -->
    <div class="search-box">
      <i class="bi bi-search search-icon"></i>
      <input type="text" id="searchInput" placeholder="Suche Materialien...">
    </div>

    <div class="material-grid">
      <!-- Globale Materialien -->
      <div class="card material-global">
        <h3 onclick="toggleList('global')"><i class="bi bi-box"></i> Globale Materialien</h3>
        <ul class="material-list" id="globalMaterialsList">
          <!-- Hier werden die globalen Materialien aufgelistet -->
        </ul>
        <button class="btn btn-primary" id="addGlobalMaterialBtn"><i class="bi bi-plus-circle"></i> Material hinzufügen</button>
        <button class="btn btn-primary" id="addGlobalFolderBtn"><i class="bi bi-folder-plus"></i> Ordner hinzufügen</button>
      </div>

      <!-- Persönliche Materialien -->
      <div class="card material-personal">
        <h3 onclick="toggleList('personal')"><i class="bi bi-person-circle"></i> Persönliche Materialien</h3>
        <ul class="material-list" id="personalMaterialsList">
          <!-- Hier werden die persönlichen Materialien aufgelistet -->
        </ul>
        <button class="btn btn-primary" id="addPersonalMaterialBtn"><i class="bi bi-plus-circle"></i> Material hinzufügen</button>
        <button class="btn btn-primary" id="addPersonalFolderBtn"><i class="bi bi-folder-plus"></i> Ordner hinzufügen</button>
      </div>
    </div>
  </div>

  <script type="module">
    // Beispiel-Daten (diese werden später durch Firebase ersetzt)
    const globalMaterials = [
      { name: "Material A", description: "Beschreibung für Material A" },
      { name: "Material B", description: "Beschreibung für Material B" }
    ];

    const personalMaterials = [
      { name: "Mein Material 1", description: "Beschreibung für mein Material 1" },
      { name: "Mein Material 2", description: "Beschreibung für mein Material 2" }
    ];

    // DOM-Elemente
    const globalMaterialsList = document.getElementById("globalMaterialsList");
    const personalMaterialsList = document.getElementById("personalMaterialsList");

    // Funktion zum Rendern der Materialien
    function renderMaterials(materials, listElement) {
      listElement.innerHTML = "";
      materials.forEach(material => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>${material.name}</strong><br>${material.description}`;
        listElement.appendChild(li);
      });
    }

    // Materialien rendern
    renderMaterials(globalMaterials, globalMaterialsList);
    renderMaterials(personalMaterials, personalMaterialsList);

    // Funktion, um die Listen zu toggeln (ein- und ausklappen)
    function toggleList(type) {
      const list = document.getElementById(`${type}MaterialsList`);
      list.classList.toggle('open');
    }

    // Button-Events
    document.getElementById("addGlobalMaterialBtn").addEventListener("click", () => {
      alert("Neues globales Material hinzufügen!");
    });

    document.getElementById("addPersonalMaterialBtn").addEventListener("click", () => {
      alert("Neues persönliches Material hinzufügen!");
    });

    document.getElementById("addGlobalFolderBtn").addEventListener("click", () => {
      alert("Neuen Ordner für globale Materialien hinzufügen!");
    });

    document.getElementById("addPersonalFolderBtn").addEventListener("click", () => {
      alert("Neuen Ordner für persönliche Materialien hinzufügen!");
    });

    // Suchfeld für Materialien
    const searchInput = document.getElementById("searchInput");
    searchInput.addEventListener("input", () => {
      const query = searchInput.value.toLowerCase();
      const filteredGlobal = globalMaterials.filter(m => m.name.toLowerCase().includes(query) || m.description.toLowerCase().includes(query));
      const filteredPersonal = personalMaterials.filter(m => m.name.toLowerCase().includes(query) || m.description.toLowerCase().includes(query));

      renderMaterials(filteredGlobal, globalMaterialsList);
      renderMaterials(filteredPersonal, personalMaterialsList);
    });
  </script>
</body>
</html>
